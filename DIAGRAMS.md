# ğŸ“ SYSTEM DIAGRAMS

Visual representations of the invoice system architecture and data flow.

---

## ğŸ—ï¸ System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      USER INTERFACE LAYER                       â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   InvoiceForm      â”‚              â”‚ InvoiceTemplate    â”‚   â”‚
â”‚  â”‚                    â”‚              â”‚                    â”‚   â”‚
â”‚  â”‚ â€¢ Data Entry       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ â€¢ Display Invoice â”‚   â”‚
â”‚  â”‚ â€¢ Validation       â”‚   Invoice    â”‚ â€¢ Print Layout    â”‚   â”‚
â”‚  â”‚ â€¢ Mode Selection   â”‚     Data     â”‚ â€¢ Calculations    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚           â”‚                                    â–²                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                                    â”‚
            â”‚                                    â”‚
            â–¼                                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BUSINESS LOGIC LAYER                         â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              calculations.ts                             â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  calculateSquareFoot(wf, wi, lf, li) â†’ number          â”‚  â”‚
â”‚  â”‚  calculateLineAmount(item, mode) â†’ number              â”‚  â”‚
â”‚  â”‚  calculateInvoice(data) â†’ InvoiceCalculations â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”˜
â”‚  â”‚  validateInvoiceData(data) â†’ string[]                  â”‚
â”‚  â”‚  formatCurrency(amount) â†’ string                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      UTILITY LAYER                              â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚    pdf-utils.ts      â”‚         â”‚   business.ts        â”‚    â”‚
â”‚  â”‚                      â”‚         â”‚                      â”‚    â”‚
â”‚  â”‚ â€¢ printInvoice()     â”‚         â”‚ â€¢ Business Config    â”‚    â”‚
â”‚  â”‚ â€¢ generatePDF()      â”‚         â”‚ â€¢ Default Settings   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PLATFORM ADAPTERS                            â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   WEB    â”‚        â”‚ ELECTRON â”‚        â”‚CAPACITOR â”‚         â”‚
â”‚  â”‚          â”‚        â”‚          â”‚        â”‚          â”‚         â”‚
â”‚  â”‚ Browser  â”‚        â”‚ Windows  â”‚        â”‚ Android  â”‚         â”‚
â”‚  â”‚ (Vercel) â”‚        â”‚   EXE    â”‚        â”‚   APK    â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow Diagram

```
START
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User Fills Form     â”‚
â”‚ â€¢ Invoice Number    â”‚
â”‚ â€¢ Customer Info     â”‚
â”‚ â€¢ Items & Prices    â”‚
â”‚ â€¢ Mode Selection    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Click "Generate"    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ validateInvoiceData â”‚â”€â”€â”€â”€â”€ Errors? â”€â”€â”€â”
â”‚ Check required      â”‚                 â”‚
â”‚ fields              â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
  â”‚                                     â–¼
  â”‚ Valid                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                              â”‚ Show Errors â”‚
  â–¼                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚ calculateInvoice    â”‚                 â”‚
â”‚ â€¢ Compute sq.ft     â”‚                 â”‚
â”‚ â€¢ Calculate amounts â”‚                 â”‚
â”‚ â€¢ Apply discount    â”‚                 â”‚
â”‚ â€¢ Calculate tax     â”‚                 â”‚
â”‚ â€¢ Compute total     â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
  â”‚                                     â”‚
  â–¼                                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚ Render Template     â”‚                 â”‚
â”‚ Display Invoice     â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
  â”‚                                     â”‚
  â–¼                                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚   User Actions      â”‚                 â”‚
â”‚ â€¢ Print             â”‚                 â”‚
â”‚ â€¢ Download PDF      â”‚                 â”‚
â”‚ â€¢ New Invoice â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§® Calculation Flow

```
INPUT
  â”‚
  â”œâ”€ widthFeet: 8
  â”œâ”€ widthInches: 6
  â”œâ”€ lengthFeet: 10
  â””â”€ lengthInches: 3
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ calculateSquareFoot()    â”‚
â”‚                          â”‚
â”‚ widthInFeet = 8 + 6/12   â”‚
â”‚             = 8.5        â”‚
â”‚                          â”‚
â”‚ lengthInFeet = 10 + 3/12 â”‚
â”‚              = 10.25     â”‚
â”‚                          â”‚
â”‚ sqft = 8.5 Ã— 10.25       â”‚
â”‚      = 87.125            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ calculateLineAmount()    â”‚
â”‚                          â”‚
â”‚ IF mode = per-sqft:      â”‚
â”‚   amount = 87.125 Ã— $25  â”‚
â”‚          = $2,178.13     â”‚
â”‚                          â”‚
â”‚ IF mode = per-rug:       â”‚
â”‚   amount = fixedPrice    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ calculateInvoice()       â”‚
â”‚                          â”‚
â”‚ subtotal = SUM(amounts)  â”‚
â”‚ discount = subtotalÃ—0.10 â”‚
â”‚ subtotalAfter = sub-disc â”‚
â”‚ salesTax = after Ã— 0.06  â”‚
â”‚ totalDue = after + tax   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚
  â–¼
OUTPUT
```

---

## ğŸ“Š Mode Decision Tree

```
                    INVOICE MODE
                         â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                           â”‚
        RETAIL                    WHOLESALE
           â”‚                           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚           â”‚                 â”‚
 PER RUG    PER SQ.FT      PER RUG        PER SQ.FT
    â”‚             â”‚           â”‚                 â”‚
    â–¼             â–¼           â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Fixed   â”‚   â”‚Sqft Ã—  â”‚   â”‚Fixed   â”‚       â”‚Sqft Ã—  â”‚
â”‚Price   â”‚   â”‚Price   â”‚   â”‚Price   â”‚       â”‚Price   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚Discountâ”‚   â”‚Discountâ”‚   â”‚NO      â”‚       â”‚NO      â”‚
â”‚ YES    â”‚   â”‚ YES    â”‚   â”‚Discountâ”‚       â”‚Discountâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚Tax 6%  â”‚   â”‚Tax 6%  â”‚   â”‚NO Tax  â”‚       â”‚NO Tax  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—‚ï¸ Component Hierarchy

```
App (page.tsx)
â”‚
â”œâ”€ InvoiceForm
â”‚  â”‚
â”‚  â”œâ”€ Invoice Details
â”‚  â”‚  â”œâ”€ Mode Selector
â”‚  â”‚  â”œâ”€ Invoice Number
â”‚  â”‚  â”œâ”€ Date
â”‚  â”‚  â””â”€ Terms
â”‚  â”‚
â”‚  â”œâ”€ Customer Info
â”‚  â”‚  â”œâ”€ Name
â”‚  â”‚  â”œâ”€ Address
â”‚  â”‚  â”œâ”€ City/State/ZIP
â”‚  â”‚  â””â”€ Phone
â”‚  â”‚
â”‚  â”œâ”€ Items List
â”‚  â”‚  â””â”€ ItemRow (repeating)
â”‚  â”‚     â”œâ”€ SKU
â”‚  â”‚     â”œâ”€ Description
â”‚  â”‚     â”œâ”€ Dimensions
â”‚  â”‚     â””â”€ Price
â”‚  â”‚
â”‚  â””â”€ Submit Button
â”‚
â””â”€ InvoiceTemplate
   â”‚
   â”œâ”€ Header
   â”‚  â”œâ”€ Business Info
   â”‚  â””â”€ "INVOICE" Title
   â”‚
   â”œâ”€ Info Section
   â”‚  â”œâ”€ Sold To
   â”‚  â””â”€ Invoice Info Box
   â”‚
   â”œâ”€ Items Table
   â”‚  â”œâ”€ Header Row
   â”‚  â””â”€ Item Rows
   â”‚
   â””â”€ Footer
      â”œâ”€ Notes
      â”œâ”€ Signature
      â””â”€ Totals
```

---

## ğŸ”€ State Management

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         page.tsx (Main)            â”‚
â”‚                                    â”‚
â”‚  STATE:                            â”‚
â”‚  â€¢ invoiceData: InvoiceData | null â”‚
â”‚  â€¢ showPreview: boolean            â”‚
â”‚  â€¢ errors: string[]                â”‚
â”‚                                    â”‚
â”‚  METHODS:                          â”‚
â”‚  â€¢ handleFormSubmit()              â”‚
â”‚  â€¢ handlePrint()                   â”‚
â”‚  â€¢ handleDownloadPDF()             â”‚
â”‚  â€¢ handleNewInvoice()              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                  â”‚
         â”‚                  â”‚
         â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  InvoiceForm   â”‚   â”‚InvoiceTemplate â”‚
â”‚                â”‚   â”‚                â”‚
â”‚  LOCAL STATE:  â”‚   â”‚  NO STATE      â”‚
â”‚  â€¢ All form    â”‚   â”‚  (Pure display)â”‚
â”‚    fields      â”‚   â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ Build Pipeline

```
SOURCE CODE
    â”‚
    â”œâ”€ TypeScript Files (.ts, .tsx)
    â”œâ”€ CSS Modules (.module.css)
    â””â”€ Configuration Files
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Next.js Build  â”‚
â”‚  â€¢ Transpile TS â”‚
â”‚  â€¢ Bundle CSS   â”‚
â”‚  â€¢ Optimize     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚             â”‚
    â–¼             â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚ WEB  â”‚    â”‚ EXE  â”‚      â”‚ APK  â”‚
â”‚      â”‚    â”‚      â”‚      â”‚      â”‚
â”‚ out/ â”‚    â”‚electron     â”‚android/
â”‚ dir  â”‚    â”‚ -dist/â”‚     â”‚ app/  â”‚
â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”˜
    â”‚             â”‚             â”‚
    â–¼             â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚Vercelâ”‚    â”‚Windows      â”‚Google â”‚
â”‚Netlify    â”‚Installer    â”‚Play   â”‚
â”‚etc.  â”‚    â”‚  .exe  â”‚    â”‚Store  â”‚
â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ–¨ï¸ Print Process Flow

```
User Clicks "Print"
    â”‚
    â–¼
printInvoice() called
    â”‚
    â–¼
window.print()
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Browser Print       â”‚
â”‚ Dialog Opens        â”‚
â”‚                     â”‚
â”‚ User Options:       â”‚
â”‚ â€¢ Printer           â”‚
â”‚ â€¢ Save as PDF       â”‚
â”‚ â€¢ Page Settings     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         â”‚        â”‚
    â–¼         â–¼        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚Print â”‚ â”‚ PDF  â”‚ â”‚Cancelâ”‚
â”‚to    â”‚ â”‚File  â”‚ â”‚      â”‚
â”‚Paper â”‚ â”‚      â”‚ â”‚      â”‚
â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Type System

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Core Types                 â”‚
â”‚                                    â”‚
â”‚  InvoiceMode                       â”‚
â”‚  â”œâ”€ 'retail-per-rug'              â”‚
â”‚  â”œâ”€ 'wholesale-per-rug'           â”‚
â”‚  â”œâ”€ 'retail-per-sqft'             â”‚
â”‚  â””â”€ 'wholesale-per-sqft'          â”‚
â”‚                                    â”‚
â”‚  InvoiceItem                       â”‚
â”‚  â”œâ”€ id: string                    â”‚
â”‚  â”œâ”€ sku: string                   â”‚
â”‚  â”œâ”€ description: string           â”‚
â”‚  â”œâ”€ widthFeet: number             â”‚
â”‚  â”œâ”€ widthInches: number           â”‚
â”‚  â”œâ”€ lengthFeet: number            â”‚
â”‚  â”œâ”€ lengthInches: number          â”‚
â”‚  â”œâ”€ pricePerSqFt?: number         â”‚
â”‚  â””â”€ fixedPrice?: number           â”‚
â”‚                                    â”‚
â”‚  InvoiceData                       â”‚
â”‚  â”œâ”€ invoiceNumber: string         â”‚
â”‚  â”œâ”€ date: string                  â”‚
â”‚  â”œâ”€ terms: string                 â”‚
â”‚  â”œâ”€ soldTo: CustomerInfo          â”‚
â”‚  â”œâ”€ items: InvoiceItem[]          â”‚
â”‚  â”œâ”€ mode: InvoiceMode             â”‚
â”‚  â”œâ”€ discountPercentage?: number   â”‚
â”‚  â””â”€ notes?: string                â”‚
â”‚                                    â”‚
â”‚  InvoiceCalculations               â”‚
â”‚  â”œâ”€ items: CalculatedItem[]       â”‚
â”‚  â”œâ”€ subtotal: number              â”‚
â”‚  â”œâ”€ discount: number              â”‚
â”‚  â”œâ”€ subtotalAfterDiscount: number â”‚
â”‚  â”œâ”€ salesTax: number              â”‚
â”‚  â””â”€ totalDue: number              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸŒ Deployment Diagram

```
                   SINGLE CODEBASE
                         â”‚
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚               â”‚               â”‚
         â–¼               â–¼               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  WEB   â”‚      â”‚ELECTRONâ”‚      â”‚CAPACITOR
    â”‚        â”‚      â”‚        â”‚      â”‚        â”‚
    â”‚Next.js â”‚      â”‚Windows â”‚      â”‚Android â”‚
    â”‚Build   â”‚      â”‚Bundle  â”‚      â”‚Bundle  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚               â”‚               â”‚
         â–¼               â–¼               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Vercel  â”‚      â”‚.exe    â”‚      â”‚.apk    â”‚
    â”‚Netlify â”‚      â”‚Installer      â”‚File    â”‚
    â”‚AWS S3  â”‚      â”‚        â”‚      â”‚        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚               â”‚               â”‚
         â–¼               â–¼               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Browser â”‚      â”‚Windows â”‚      â”‚Android â”‚
    â”‚        â”‚      â”‚Desktop â”‚      â”‚Device  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Use these diagrams to understand the system architecture at a glance!** ğŸ“Š
